<!DOCTYPE html>
<html>
	<head>
		<title>Lisp 2 JS</title>

	</head>
	<style>
	</style>
	<body>

<table>
	<tr>
		<th>Preprocess</th>
		<th>Lisp</th>
		<th>JavaScript</th>
		<th>Output</th>
	</tr>
	<tr>
		<td>
			<textarea id="pre" type="text" style="width:250px;height:500px;"></textarea>
		</td>
		<td>
			<textarea id="lisp" type="text" style="width:250px;height:500px;"></textarea>
		</td>
		<td>
			<textarea id="js" type="text" style="width:250px;height:500px;"></textarea>
		</td>
		<td>
			<textarea id="out" type="text" style="width:250px;height:500px;"></textarea>
		</td>
	</tr>
	<tr>
		<td>
			<button id="transnotate" onclick="transnotate()">Transnotate</button>
		</td>
		<td>
			<button id="transpile" onclick="transpile();">Transpile</button>
		</td>
		<td>
			<button id="interpret" onclick="interpret();">Interpret</button>
		</td>
	</tr>
</table>

	</body>

	<script src="lisp2js.js"></script>
	<script src="semisweet.js"></script>
	<script>
		function transnotate() {
			let lisp = document.getElementById("pre").value;
			document.getElementById("lisp").value = semisweet(lisp);
			transpile();
		}
		function transpile() {
			let lisp = document.getElementById("lisp").value;
			document.getElementById("js").value = lisp2js(lisp);
			interpret();
		}
		function interpret() {
			let txt = "";
			function println(line) {
				txt = txt + line + "\n";
				console.log(line);
			}
			let code = document.getElementById("js").value;
			let result = eval(code);
			txt = txt + String(result);
			document.getElementById("out").value = txt;
		}
	</script>

</html>
